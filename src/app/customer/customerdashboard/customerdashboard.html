<div class="layout">
  <app-sidebar></app-sidebar>

  <div class="content">
    <h2>Welcome, {{ customerName }}</h2>

    <div class="card-grid">
      <div class="stat-card">Total: {{ total }}</div>
      <div class="stat-card">Scheduled: {{ scheduled }}</div>
      <div class="stat-card">Completed: {{ completed }}</div>
      <div class="stat-card">Cancelled: {{ cancelled }}</div>
    </div>

    <h3>My Appointments</h3>

    <table>
      <tr>
        <th>Service</th>
        <th>Provider</th>
        <th>Date</th>
        <th>Time</th>
        <th>Status</th>
        <th>Action</th>
      </tr>

      <tr *ngFor="let a of appointments">
        <td>{{ a.serviceName }}</td>
        <td>{{ a.providerName }}</td>
        <td>{{ a.appointmentDate | date }}</td>
        <td>{{ a.startTime }} - {{ a.endTime }}</td>
        <td>{{ a.status }}</td>
        <td>
          <button
            *ngIf="a.status === 'Scheduled'"
            (click)="cancel(a.appointmentId, a.appointmentDate)">
            Cancel
          </button>
        </td>
      </tr>
    </table>
  </div>
</div>
